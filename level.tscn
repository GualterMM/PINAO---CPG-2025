[gd_scene load_steps=10 format=3 uid="uid://clvskixc2dnuk"]

[ext_resource type="PackedScene" uid="uid://b1h44yr66wwyu" path="res://scenes/ui/user_interface.tscn" id="1_oi3di"]
[ext_resource type="PackedScene" uid="uid://cm8180w2tuiho" path="res://scenes/player/player.tscn" id="1_u52ul"]
[ext_resource type="PackedScene" uid="uid://dsv16wi6de16d" path="res://scenes/controllers/enemy_spawn_controller.tscn" id="6_1ainy"]

[sub_resource type="BoxShape3D" id="BoxShape3D_f2txt"]

[sub_resource type="NavigationMesh" id="NavigationMesh_vonw3"]
vertices = PackedVector3Array(-29, 0.5, -2.5, -3.5, 0.5, -2.5, -3.5, 0.5, -3.25, -2.5, 0.5, -3.5, -2.5, 0.5, -29, -29, 0.5, -29, -1.25, 0.5, -2.25, 4.25, 0.5, -2.25, 4.25, 0.5, -3.25, -1.5, 0.5, -3.5, 5.5, 0.5, -3.5, 5.5, 0.5, -29, 6.5, 0.5, -3.25, 6.5, 0.5, -2.25, 30, 0.5, -2.25, 30, 0.5, -29, -3.5, 0.5, 4.75, -2.25, 0.5, 4.5, -2.25, 0.5, -1.25, -3.5, 0.5, -1.5, -29, 0.5, 5.75, -3.5, 0.5, 5.75, -1.5, 0.5, -1.25, 4.5, 0.5, -1.25, -1.25, 0.5, 4.75, 6.25, 0.5, -1.25, -1.25, 0.5, 6.5, -2.25, 0.5, 30, 30, 0.5, 30, -2.25, 0.5, 6.75, -3.25, 0.5, 6.75, -29, 0.5, 30)
polygons = [PackedInt32Array(2, 1, 0), PackedInt32Array(3, 2, 4), PackedInt32Array(4, 2, 5), PackedInt32Array(5, 2, 0), PackedInt32Array(8, 7, 6), PackedInt32Array(6, 9, 8), PackedInt32Array(8, 9, 10), PackedInt32Array(10, 9, 11), PackedInt32Array(11, 9, 4), PackedInt32Array(9, 3, 4), PackedInt32Array(14, 13, 12), PackedInt32Array(12, 10, 14), PackedInt32Array(14, 10, 11), PackedInt32Array(14, 11, 15), PackedInt32Array(17, 16, 18), PackedInt32Array(18, 16, 19), PackedInt32Array(19, 16, 20), PackedInt32Array(19, 20, 0), PackedInt32Array(0, 1, 19), PackedInt32Array(16, 21, 20), PackedInt32Array(17, 18, 22), PackedInt32Array(7, 23, 6), PackedInt32Array(6, 23, 22), PackedInt32Array(22, 23, 24), PackedInt32Array(22, 24, 17), PackedInt32Array(26, 25, 27), PackedInt32Array(27, 25, 14), PackedInt32Array(27, 14, 28), PackedInt32Array(27, 29, 26), PackedInt32Array(25, 13, 14), PackedInt32Array(23, 25, 24), PackedInt32Array(24, 25, 26), PackedInt32Array(30, 29, 27), PackedInt32Array(30, 27, 21), PackedInt32Array(21, 27, 20), PackedInt32Array(20, 27, 31)]

[sub_resource type="PhysicsMaterial" id="PhysicsMaterial_u52ul"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_vonw3"]
albedo_color = Color(0.288518, 0.288518, 0.288518, 1)

[sub_resource type="BoxMesh" id="BoxMesh_oi3di"]

[sub_resource type="BoxShape3D" id="BoxShape3D_0b4ue"]

[node name="Level" type="Node3D"]

[node name="User Interface" parent="." instance=ExtResource("1_oi3di")]

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(0.840973, 0.349502, -0.413053, 0, 0.76339, 0.645938, 0.541077, -0.543216, 0.641991, -1.48424, 11.4664, 5.83168)
shadow_enabled = true

[node name="Enemy Spawn Regions" type="Node" parent="."]

[node name="West Spawn" type="Area3D" parent="Enemy Spawn Regions"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 28, 2, 0)

[node name="CollisionShape3D" type="CollisionShape3D" parent="Enemy Spawn Regions/West Spawn"]
transform = Transform3D(3, 0, 0, 0, 3, 0, 0, 0, 3, 0, 0, 0)
shape = SubResource("BoxShape3D_f2txt")

[node name="East Spawn" type="Area3D" parent="Enemy Spawn Regions"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -28, 2, 0)

[node name="CollisionShape3D" type="CollisionShape3D" parent="Enemy Spawn Regions/East Spawn"]
transform = Transform3D(3, 0, 0, 0, 3, 0, 0, 0, 3, 0, 0, 0)
shape = SubResource("BoxShape3D_f2txt")

[node name="North Spawn" type="Area3D" parent="Enemy Spawn Regions"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2, 28)

[node name="CollisionShape3D" type="CollisionShape3D" parent="Enemy Spawn Regions/North Spawn"]
transform = Transform3D(3, 0, 0, 0, 3, 0, 0, 0, 3, 0, 0, 0)
shape = SubResource("BoxShape3D_f2txt")

[node name="South Spawm" type="Area3D" parent="Enemy Spawn Regions"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2, -28)

[node name="CollisionShape3D" type="CollisionShape3D" parent="Enemy Spawn Regions/South Spawm"]
transform = Transform3D(3, 0, 0, 0, 3, 0, 0, 0, 3, 0, 0, 0)
shape = SubResource("BoxShape3D_f2txt")

[node name="NavigationRegion3D" type="NavigationRegion3D" parent="."]
navigation_mesh = SubResource("NavigationMesh_vonw3")

[node name="TestObstacle" type="StaticBody3D" parent="NavigationRegion3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2.26723, 0.576016, -2.48692)
collision_mask = 31
physics_material_override = SubResource("PhysicsMaterial_u52ul")

[node name="MeshInstance3D" type="MeshInstance3D" parent="NavigationRegion3D/TestObstacle"]
material_override = SubResource("StandardMaterial3D_vonw3")
mesh = SubResource("BoxMesh_oi3di")

[node name="CollisionShape3D" type="CollisionShape3D" parent="NavigationRegion3D/TestObstacle"]
shape = SubResource("BoxShape3D_0b4ue")

[node name="TestObstacle2" type="StaticBody3D" parent="NavigationRegion3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 5.38072, 0.576016, -2.48692)
collision_mask = 31
physics_material_override = SubResource("PhysicsMaterial_u52ul")

[node name="MeshInstance3D" type="MeshInstance3D" parent="NavigationRegion3D/TestObstacle2"]
material_override = SubResource("StandardMaterial3D_vonw3")
mesh = SubResource("BoxMesh_oi3di")

[node name="CollisionShape3D" type="CollisionShape3D" parent="NavigationRegion3D/TestObstacle2"]
shape = SubResource("BoxShape3D_0b4ue")

[node name="TestObstacle3" type="StaticBody3D" parent="NavigationRegion3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2.26723, 0.576016, 5.64541)
collision_mask = 31
physics_material_override = SubResource("PhysicsMaterial_u52ul")

[node name="MeshInstance3D" type="MeshInstance3D" parent="NavigationRegion3D/TestObstacle3"]
material_override = SubResource("StandardMaterial3D_vonw3")
mesh = SubResource("BoxMesh_oi3di")

[node name="CollisionShape3D" type="CollisionShape3D" parent="NavigationRegion3D/TestObstacle3"]
shape = SubResource("BoxShape3D_0b4ue")

[node name="World Env" type="CSGBox3D" parent="NavigationRegion3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.5, -0.5, 0.5)
use_collision = true
size = Vector3(60, 1, 60)

[node name="Player" parent="." instance=ExtResource("1_u52ul")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0)

[node name="Enemy Spawn Controller" parent="." instance=ExtResource("6_1ainy")]
